var u=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var c=Object.prototype.hasOwnProperty;var A=(t,e)=>{for(var r in e)u(t,r,{get:e[r],enumerable:!0})},v=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of f(e))!c.call(t,o)&&o!==r&&u(t,o,{get:()=>e[o],enumerable:!(n=d(e,o))||n.enumerable});return t};var C=t=>v(u({},"__esModule",{value:!0}),t);var b={};A(b,{Types:()=>U,addComponent:()=>k,defineComponent:()=>W,defineQuery:()=>l,enterQuery:()=>x,exitQuery:()=>P,hasComponent:()=>I,removeComponent:()=>S});module.exports=C(b);var y=require("../core"),a=require("../core"),l=(...t)=>e=>(0,y.query)(e,t),x=(...t)=>{let e=[],r=new WeakSet;return n=>{r.has(n)||((0,y.observe)(n,(0,y.onAdd)(...t),p=>e.push(p)),r.add(n));let o=e;return e=[],o}},P=(...t)=>{let e=[],r=new WeakSet;return n=>{r.has(n)||((0,y.observe)(n,(0,y.onRemove)(...t),p=>e.push(p)),r.add(n));let o=e;return e=[],o}},k=(t,e,r)=>(0,a.addComponent)(t,r,e),I=(t,e,r)=>(0,a.hasComponent)(t,r,e),S=(t,e,r)=>(0,a.removeComponent)(t,r,e),U={f32:"f32",i32:"i32",u32:"u32",f64:"f64",i8:"i8",u8:"u8",i16:"i16",u16:"u16"},T={f32:Float32Array,i32:Int32Array,u32:Uint32Array,f64:Float64Array,i8:Int8Array,u8:Uint8Array,i16:Int16Array,u16:Uint16Array},W=(t,e=1e5)=>{let r=(n,o)=>{let p={};for(let i in n)if(Array.isArray(n[i])){let[m,s]=n[i];p[i]=Array.from({length:s},()=>new T[m](o))}else if(typeof n[i]=="object")p[i]=r(n[i],o);else{let m=n[i],s=T[m];if(s)p[i]=new s(o);else throw new Error(`Unsupported type: ${n[i]}`)}return p};return r(t,e)};
//# sourceMappingURL=index.min.cjs.map
