var u=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var c=Object.prototype.hasOwnProperty;var A=(t,e)=>{for(var n in e)u(t,n,{get:e[n],enumerable:!0})},l=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of f(e))!c.call(t,o)&&o!==n&&u(t,o,{get:()=>e[o],enumerable:!(r=d(e,o))||r.enumerable});return t};var v=t=>l(u({},"__esModule",{value:!0}),t);var U={};A(U,{Types:()=>h,addComponent:()=>k,defineComponent:()=>R,defineQuery:()=>C,enterQuery:()=>x,exitQuery:()=>P,hasComponent:()=>I,removeComponent:()=>S});module.exports=v(U);var y=require("../core"),s=require("../core"),C=t=>{let e=n=>(0,y.query)(n,t);return e.terms=t,e},x=t=>{let e=[],n=new WeakSet;return r=>{n.has(r)||((0,y.observe)(r,(0,y.onAdd)(...t.terms),p=>e.push(p)),n.add(r));let o=e.slice();return e.length=0,o}},P=t=>{let e=[],n=new WeakSet;return r=>{n.has(r)||((0,y.observe)(r,(0,y.onRemove)(...t.terms),p=>e.push(p)),n.add(r));let o=e.slice();return e.length=0,o}},k=(t,e,n)=>(0,s.addComponent)(t,n,e),I=(t,e,n)=>(0,s.hasComponent)(t,n,e),S=(t,e,n)=>(0,s.removeComponent)(t,n,e),h={f32:"f32",i32:"i32",u32:"u32",f64:"f64",i8:"i8",u8:"u8",i16:"i16",u16:"u16"},T={f32:Float32Array,i32:Int32Array,u32:Uint32Array,f64:Float64Array,i8:Int8Array,u8:Uint8Array,i16:Int16Array,u16:Uint16Array},R=(t,e=1e5)=>{let n=(r,o)=>{let p={};for(let i in r)if(Array.isArray(r[i])){let[m,a]=r[i];p[i]=Array.from({length:a},()=>new T[m](o))}else if(typeof r[i]=="object")p[i]=n(r[i],o);else{let m=r[i],a=T[m];if(a)p[i]=new a(o);else throw new Error(`Unsupported type: ${r[i]}`)}return p};return n(t,e)};
//# sourceMappingURL=index.min.cjs.map
