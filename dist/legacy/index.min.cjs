var T=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var c=Object.prototype.hasOwnProperty;var f=(r,e)=>{for(var t in e)T(r,t,{get:e[t],enumerable:!0})},I=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let y of A(e))!c.call(r,y)&&y!==t&&T(r,y,{get:()=>e[y],enumerable:!(n=m(e,y))||n.enumerable});return r};var l=r=>I(T({},"__esModule",{value:!0}),r);var b={};f(b,{Types:()=>R,addComponent:()=>k,defineComponent:()=>W,defineQuery:()=>C,enterQuery:()=>x,exitQuery:()=>U,hasComponent:()=>S,removeComponent:()=>h});module.exports=l(b);var p=require("../core"),a=require("../core"),C=r=>{let e=t=>(0,p.query)(t,r);return e.terms=r,e},x=r=>{let e=[],t=new WeakSet;return n=>{t.has(n)||((0,p.observe)(n,(0,p.onAdd)(...r.terms),i=>e.push(i)),t.add(n));let y=e.slice();return e.length=0,y}},U=r=>{let e=[],t=new WeakSet;return n=>{t.has(n)||((0,p.observe)(n,(0,p.onRemove)(...r.terms),i=>e.push(i)),t.add(n));let y=e.slice();return e.length=0,y}},k=(r,e,t)=>(0,a.addComponent)(r,t,e),S=(r,e,t)=>(0,a.hasComponent)(r,t,e),h=(r,e,t)=>(0,a.removeComponent)(r,t,e),R={i8:"i8",ui8:"ui8",ui8c:"ui8c",i16:"i16",ui16:"ui16",i32:"i32",ui32:"ui32",f32:"f32",f64:"f64",eid:"eid"},d={i8:Int8Array,ui8:Uint8Array,ui8c:Uint8ClampedArray,i16:Int16Array,ui16:Uint16Array,i32:Int32Array,ui32:Uint32Array,f32:Float32Array,f64:Float64Array,eid:Uint32Array},W=(r,e=1e5)=>{let t=(n,y)=>{let i={};for(let o in n)if(Array.isArray(n[o])){let[u,s]=n[o];i[o]=Array.from({length:s},()=>new d[u](y))}else if(typeof n[o]=="object")i[o]=t(n[o],y);else{let u=n[o],s=d[u];if(s)i[o]=new s(y);else throw new Error(`Unsupported type: ${n[o]}`)}return i};return t(r,e)};
//# sourceMappingURL=index.min.cjs.map
